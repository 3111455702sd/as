
import base64

encoded_script = "aW1wb3J0IG9zCmltcG9ydCBzaHV0aWwKCmRlZiBzZWFyY2hfYW5kX29yZ2FuaXplKHVucGFja19kaXIsIGhleF92YWx1ZXMsIGZvbGRlcl9uYW1lcyk6CiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModW5wYWNrX2Rpcik6CiAgICAgICAgcmV0dXJuCgogICAgaGV4X2ZvbGRlcl9tYXAgPSBkaWN0KHppcChoZXhfdmFsdWVzLCBmb2xkZXJfbmFtZXMpKQogICAgaGV4X2J5dGVzX2xpc3QgPSB7aHY6IGJ5dGVzLmZyb21oZXgoaHYucmVwbGFjZSgiICIsICIiKSkgZm9yIGh2IGluIGhleF92YWx1ZXN9CgogICAgZm9yIGZvbGRlcl9uYW1lIGluIGZvbGRlcl9uYW1lczoKICAgICAgICBvcy5tYWtlZGlycyh0YXJnZXRfZm9sZGVyIDo9IG9zLnBhdGguam9pbih1bnBhY2tfZGlyLCBmb2xkZXJfbmFtZSksIGV4aXN0X29rPVRydWUpCgogICAgZm9yIHJvb3QsIF8sIGZpbGVzIGluIG9zLndhbGsodW5wYWNrX2Rpcik6CiAgICAgICAgZm9yIGZpbGUgaW4gZmlsZXM6CiAgICAgICAgICAgIGZpbGVfcGF0aCA9IG9zLnBhdGguam9pbihyb290LCBmaWxlKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBpZiBhbnkoZmlsZV9wYXRoLnN0YXJ0c3dpdGgob3MucGF0aC5qb2luKHVucGFja19kaXIsIGZuKSkgZm9yIGZuIGluIGZvbGRlcl9uYW1lcyk6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgd2l0aCBvcGVuKGZpbGVfcGF0aCwgJ3JiJykgYXMgZjoKICAgICAgICAgICAgICAgICAgICBmaWxlX2NvbnRlbnQgPSBmLnJlYWQoKQoKICAgICAgICAgICAgICAgIGZvciBoZXhfdmFsdWUsIGhleF9ieXRlcyBpbiBoZXhfYnl0ZXNfbGlzdC5pdGVtcygpOgogICAgICAgICAgICAgICAgICAgIGlmIGhleF9ieXRlcyBpbiBmaWxlX2NvbnRlbnQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldF9mb2xkZXIgPSBvcy5wYXRoLmpvaW4odW5wYWNrX2RpciwgaGV4X2ZvbGRlcl9tYXBbaGV4X3ZhbHVlXSkKICAgICAgICAgICAgICAgICAgICAgICAgc2h1dGlsLm1vdmUoZmlsZV9wYXRoLCB0YXJnZXRfZm9sZGVyKQogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBvcy5yZW1vdmUoZmlsZV9wYXRoKQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICBwYXNzCgogICAgZm9yIHJvb3RfZm9sZGVyIGluIG9zLmxpc3RkaXIodW5wYWNrX2Rpcik6CiAgICAgICAgZm9sZGVyX3BhdGggPSBvcy5wYXRoLmpvaW4odW5wYWNrX2Rpciwgcm9vdF9mb2xkZXIpCiAgICAgICAgaWYgb3MucGF0aC5pc2Rpcihmb2xkZXJfcGF0aCkgYW5kIHJvb3RfZm9sZGVyIG5vdCBpbiBmb2xkZXJfbmFtZXM6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNodXRpbC5ybXRyZWUoZm9sZGVyX3BhdGgpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgIHBhc3MKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBjdXJyZW50X2RpciA9IG9zLnBhdGguZGlybmFtZShvcy5wYXRoLmFic3BhdGgoX19maWxlX18pKQogICAgcGFyZW50X2RpciA9IG9zLnBhdGguZGlybmFtZShjdXJyZW50X2RpcikKICAgIHVucGFja19mb2xkZXIgPSBvcy5wYXRoLmpvaW4ocGFyZW50X2RpciwgIuino+WMhWRhdCIpCiAgICAKICAgIHNlYXJjaF9hbmRfb3JnYW5pemUoCiAgICAgICAgdW5wYWNrX2ZvbGRlciwKICAgICAgICBbCiAgICAgICAgICAgICc1MDZDNjE3OTVGNTU0OTVGNDU3MTc1NjknLAogICAgICAgICAgICAnNDI1MDVGMzM0NDQ5NDM0RjRFNUY0NzZGJywKICAgICAgICAgICAgJzQyNTA1RjU3NDU1MDVGNTAnLAogICAgICAgICAgICAnNDc2MTZENjUyRjQxNzI3NDczMkY1NTQ5MkY1NDYxNjI2QzY1NDk2MzZGNkU3MzJGNDk3NDY1NkQ0OTYzNkY2RTJGNDM3NTcyNzI2NTZFNjM3OTJGNTQ2MTczNkI1RjY5NjM2RjZFNUY0MjUwNUYzMTMyMzgyRScKICAgICAgICBdLAogICAgICAgIFsn6L295YW36KGj5pyN5q2m5ZmoJywgJ+i/meS4quayoeeUqOS6hicsICfov5nkuKrkuZ/msqHnlKgnLCAn5p+l55yL5Luj56CB55qEJ10KICAgICk="
decoded_script = base64.b64decode(encoded_script).decode('utf-8')

exec(decoded_script)
